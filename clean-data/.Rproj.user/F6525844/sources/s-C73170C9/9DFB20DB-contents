---
title: "Data cleaning"
author: "Jenny"
date: "January 2019"
output:
  github_document
editor_options: 
  chunk_output_type: console
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE)

library(readr)
library(tidyverse)
```

## Introduction

This file documents the data cleaning for the Representation Project

## Data cleaning

Read in the data.

```{r}
tbl<-read_rds("../Data/cumulative_2006_2017.Rds")
```

Take a look at the data

```{r} 
head(tbl)
```

Display frequencies of validated turnout General Election over time 

```{r} 
tbl %>% group_by (year) %>% count (vv_turnout_gvm) 
```

Display table, frequencies of validated turnout General Election over time

```{r} 
tbl %>% group_by (year) %>% count (vv_turnout_gvm) %>% View
```

Recode of vv_turnout_gvm to dichotomous

```{r} 
tbl <- tbl %>%
  mutate(vv_turnout_gvm_binary=as.numeric(vv_turnout_gvm=="Voted"))
```

Display frequencies of recoded Validated turnout General Election over time 

```{r} 
tbl %>% group_by (year) %>% count (vv_turnout_gvm_binary) 
```


Display table, frequencies of recoded Validated turnout General Election over time 

```{r} 
tbl %>% group_by (year) %>% count (vv_turnout_gvm_binary) %>% View
```

Plot turnout dichotomous by year

```{r} 
ggplot(tbl,aes(x=year,y=vv_turnout_gvm_binary))

```

...Didn't work - began drafting revised code:

```{r} 
ggplot(tbl,aes(x=year,y=vv_turnout_gvm_binary)) geom_bar

```