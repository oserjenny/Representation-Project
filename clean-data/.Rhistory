tbl %>% group_by (year) %>% count (vv_turnout_gvm_binary)
tbl %>% group_by (year) %>% count (vv_turnout_gvm) %>% View
tbl %>% group_by (year) %>% count (vv_turnout_gvm) %>% View
tbl %>% group_by (year) %>% count (vv_turnout_gvm)
tbl %>% group_by (year) %>% count (vv_turnout_gvm) %>% View
tbl <- tbl %>%
mutate(vv_turnout_gvm_binary=as.numeric(vv_turnout_gvm=="Voted"))
tbl <- tbl %>%
mutate(vv_turnout_gvm_binary=as.numeric(vv_turnout_gvm=="Voted"))
tbl %>% group_by (year) %>% count (vv_turnout_gvm_binary)
tbl %>% group_by (year) %>% count (vv_turnout_gvm_binary) %>% View
tbl %>% group_by (year) %>% count (vv_turnout_gvm_binary) %>% View
ggplot(tbl,aes(x=year,y=vv_turnout_gvm_binary))
ggplot(tbl,aes(x=year,y=vv_turnout_gvm_binary)) geom_bar
knitr::opts_chunk$set(echo = TRUE)
library(readr)
library(tidyverse)
tbl<-read_rds("../Data/cumulative_2006_2017.Rds")
head(tbl)
select(df, year, case_id, pid3)
names(tbl)
names(tbl)
select(tbl, year, case_id, pid3)
select(tbl, year, case_id, pid3)
knitr::opts_chunk$set(echo = TRUE)
library(readr)
library(tidyverse)
tbl<-read_rds("../Data/cumulative_2006_2017.Rds")
head(tbl)
names(tbl)
View(tbl)
tbl %>%
names(tbl) %>%
View
names(tbl) View
tbl %>%
names(tbl) %.%
View
names(tbl)
View(tbl)
head(tbl)
tbl %>%
select(year, case_id, pid3)
tbl %>%
group_by (year) %>%
count (vv_turnout_gvm)
tbl %>%
group_by (year) %>%
count (vv_turnout_gvm) %>%
View
tbl %>%
group_by (year) %>%
count (vv_turnout_gvm)
tbl %>%
group_by (year) %>%
count (vv_turnout_gvm) %>%
View
tbl %>%
group_by (year) %>%
count (vv_turnout_gvm_binary)
tbl %>%
group_by (year) %>%
count (vv_turnout_gvm) %>%
View
tbl <- tbl %>%
mutate(vv_turnout_gvm_binary=as.numeric(vv_turnout_gvm=="Voted"))
tbl %>%
group_by (year) %>%
count (vv_turnout_gvm_binary)
tbl %>%
group_by (year) %>%
count (vv_turnout_gvm_binary) %>%
View
tbl %>%
group_by (year) %>%
count (vv_turnout_gvm) %>%
View
knitr::opts_chunk$set(echo = TRUE)
library(readr)
library(tidyverse)
tbl<-read_rds("../Data/cumulative_2006_2017.Rds")
head(tbl)
names(tbl)
tbl %>%
select(year, case_id, pid3)
tbl %>%
group_by (year) %>%
count (vv_turnout_gvm)
tbl %>%
group_by (year) %>%
count (vv_turnout_gvm) %>%
View
tbl <- tbl %>%
mutate(vv_turnout_gvm_binary=as.numeric(vv_turnout_gvm=="Voted"))
tbl %>%
group_by (year) %>%
count (vv_turnout_gvm_binary)
tbl %>%
group_by (year) %>%
count (vv_turnout_gvm_binary) %>%
View
ggplot(tbl,aes(x=year,y=vv_turnout_gvm_binary))
ggplot(tbl,aes(x=year,y=vv_turnout_gvm_binary)) geom_bar
ggplot(tbl,aes(x=year,y=vv_turnout_gvm_binary))
ggplot(data=tbl)
geom_bar(mapping = aes(x=year,y=vv_turnout_gvm_binary)
ggplot(data=tbl)
geom_bar(mapping = aes(x=year,y=vv_turnout_gvm_binary))
# Chunk 1: setup
knitr::opts_chunk$set(echo = TRUE)
library(readr)
library(tidyverse)
# Chunk 2
tbl<-read_rds("../Data/cumulative_2006_2017.Rds")
# Chunk 3
head(tbl)
# Chunk 4
names(tbl)
# Chunk 5
tbl %>%
select(year, case_id, pid3)
# Chunk 6
tbl %>%
group_by (year) %>%
count (vv_turnout_gvm)
# Chunk 7
tbl %>%
group_by (year) %>%
count (vv_turnout_gvm) %>%
View
# Chunk 8
tbl <- tbl %>%
mutate(vv_turnout_gvm_binary=as.numeric(vv_turnout_gvm=="Voted"))
# Chunk 9
tbl %>%
group_by (year) %>%
count (vv_turnout_gvm_binary)
# Chunk 10
tbl %>%
group_by (year) %>%
count (vv_turnout_gvm_binary) %>%
View
# Chunk 11
ggplot(tbl,aes(x=year,y=vv_turnout_gvm_binary))
ggplot(data=tbl)
geom_bar(mapping = aes(x=year,y=vv_turnout_gvm_binary))
ggplot(tbl, geom_bar(mapping = aes(x=year,y=vv_turnout_gvm_binary)))
ggplot(tbl, geom_bar(mapping = aes(x=year, y=vv_turnout_gvm_binary)))
ggplot(data=tbl)
geom_bar(mapping = aes(x=year,y=vv_turnout_gvm_binary))
ggplot(data=tbl)
geom_point(mapping = aes(x=year,y=vv_turnout_gvm_binary))
View(tbl)
ggplot(tbl, geom_point(mapping = aes(x=year,y=vv_turnout_gvm_binary)))
ggplot(tbl, geom_point(mapping = aes(x=year, y=vv_turnout_gvm_binary)))
ggplot(data=tbl)
geom_point(mapping = aes(x=year, y=vv_turnout_gvm_binary))
ggplot(tbl)
geom_point(mapping = aes(x=year, y=vv_turnout_gvm_binary))
ggplot(tbl, geom_point(mapping = aes(x=year, y=vv_turnout_gvm_binary)))
ggplot(data = tbl)
geom_point(mapping = aes(x=year,y=vv_turnout_gvm_binary))
ggplot(data = tbl, mapping = aes(x=year, y=vv_turnout_gvm_binary)) geom_bar
ggplot(data = tbl, mapping = aes(x=year, y=vv_turnout_gvm_binary))
geom_bar()
ggplot(tbl,aes(x=year,y=vv_turnout_gvm_binary)) geom_bar
ggplot(data = tbl, mapping = aes(x=year, y=vv_turnout_gvm_binary))
geom_point()
ggplot(data = tbl)
geom_point(mapping = aes(x=year,y=vv_turnout_gvm_binary)), mean
ggplot(tbl, aes(x=year, y=vv_turnout_gvm_binary))
geom_point(aes)
ggplot(tbl, aes(x=year, y=vv_turnout_gvm_binary))
geom_point
ggplot(tbl)
geom_bar(mapping = aes(x=year, y=vv_turnout_gvm_binary))
ggplot(tbl)
geom_point(mapping = aes(x=year, y=vv_turnout_gvm_binary))
ggplot(tbl,aes(x=year,y=vv_turnout_gvm_binary)) geom_bar
knitr::opts_chunk$set(echo = TRUE)
library(readr)
library(tidyverse)
tbl<-read_rds("../Data/cumulative_2006_2017.Rds")
head(tbl)
head(tbl)
head(tbl)
names(tbl)
knitr::opts_chunk$set(echo = TRUE)
library(readr)
library(tidyverse)
tbl<-read_rds("../Data/cumulative_2006_2017.Rds")
df
df <- readRDS("cumulative_2006_2017.Rds")
tbl
tbl<-read_rds("../Data/cumulative_2006_2017.Rds")
tbl %>%
select(year, case_id, pid3)
library(haven)
select(df, year, case_id, pid3) %>%
mutate pid3_fct = as_factor(pid3))
library(haven)
select(df, year, case_id, pid3) %>%
mutate(pid3_fct = as_factor(pid3))
library(haven)
select(tbl, year, case_id, pid3) %>%
mutate(pid3_fct = as_factor(pid3))
tbl %>%
count (year)
tbl %>%
count (weight)
tbl %>%
group_by(year)
count (weight)
tbl %>%
group_by(year) %>%
count (weight)
tbl %>%
group_by(year) %>%
mean (weight)
tbl %>%
group_by(year) %>%
mean(weight)
tbl %>%
group_by(year) %>%
count(tookpost)
tbl %>%
group_by(year) %>%
summary(weight_cumulative)
tbl %>%
group_by(year) %>%
summary(weight_cumulative)
tbl %>%
group_by(year) %>%
count(weight_cumulative)
tbl %>%
count(state)
tbl %>%
count(st)
tbl %>%
count(gender)
tbl %>%
count(birthyr)
tbl %>%
count(Age)
tbl %>%
count(age)
knitr::opts_chunk$set(echo = TRUE)
library(readr)
library(tidyverse)
tbl<-read_rds("../Data/cumulative_2006_2017.Rds")
head(tbl)
names(tbl)
tbl %>%
select(year, case_id, pid3)
tbl %>%
group_by (year) %>%
count (vv_turnout_gvm) %>%
View
tbl %>%
group_by (year) %>%
count (vv_turnout_gvm)
tbl %>%
group_by (year) %>%
count (vv_turnout_gvm) %>%
as.data.frame
knitr::opts_chunk$set(echo = TRUE)
library(readr)
library(tidyverse)
library(knitr)
tbl %>%
group_by (year) %>%
count (vv_turnout_gvm_binary) %>%
kable
# Chunk 1: setup
knitr::opts_chunk$set(echo = TRUE)
library(readr)
library(tidyverse)
library(knitr)
# Chunk 2
tbl<-read_rds("../Data/cumulative_2006_2017.Rds")
# Chunk 3
head(tbl)
# Chunk 4
names(tbl)
# Chunk 5
tbl %>%
select(year, case_id, pid3)
# Chunk 6
tbl %>%
select(year, case_id, pid3)
# Chunk 7
tbl %>%
group_by (year) %>%
count (vv_turnout_gvm)
# Chunk 9
tbl <- tbl %>%
mutate(vv_turnout_gvm_binary=as.numeric(vv_turnout_gvm=="Voted"))
tbl %>%
group_by (year) %>%
count (vv_turnout_gvm_binary) %>%
kable
tbl %>%
group_by (year) %>%
count (vv_turnout_gvm_binary) %>%
kable(align=c("l","c","c"))
knitr::opts_chunk$set(echo = TRUE)
library(readr)
library(tidyverse)
library(knitr)
library(scales)
install.packages
install.packages("writexl")
knitr::opts_chunk$set(echo = TRUE)
library(readr)
library(tidyverse)
library(knitr)
library(scales)
library(writexl)
ggplot(data = tbl)
geom_point(mapping = aes(x=year,y=vv_turnout_gvm_binary))
ggplot(tbl, geom_point(mapping = aes(x=year, y=vv_turnout_gvm_binary)))
ggplot(tbl,aes(x=year,y=vv_turnout_gvm_binary))
ggplot(tbl,aes(x=year,y=vv_turnout_gvm_binary)) geom_bar
ggplot(tbl,aes(x=year,y=vv_turnout_gvm_binary))+
geom_bar()
ggplot(tbl,aes(x=year,y=vv_turnout_gvm_binary))+
geom_bar(aes(y=..count..))
tbl %>%
group_by(year) %>%
summarise(Proportion=mean(vv_turnout_gvm_binary,na.omit=TRUE))
tbl %>%
group_by(year) %>%
summarise(Proportion=mean(vv_turnout_gvm_binary,na.omit=TRUE)) %>%
filter(!is.na(Proportion))
ggplot(tbl,aes(x=year,y=vv_turnout_gvm_binary))+
geom_bar(aes(y=..count..))
tbl %>%
group_by(year) %>%
summarise(Proportion=mean(vv_turnout_gvm_binary,na.omit=TRUE)) %>%
filter(!is.na(Proportion)) %>%
ggplot(aes(x=year,y=vv_turnout_gvm_binary))+
geom_bar()
tbl %>%
group_by(year) %>%
summarise(Proportion=mean(vv_turnout_gvm_binary,na.omit=TRUE)) %>%
filter(!is.na(Proportion)) %>%
ggplot(aes(x=year,y=Proportion))+
geom_bar()
tbl %>%
group_by(year) %>%
summarise(Proportion=mean(vv_turnout_gvm_binary,na.omit=TRUE)) %>%
filter(!is.na(Proportion)) %>%
ggplot(aes(x=year,y=Proportion))+
geom_bar(stat="identity")
tbl %>%
group_by(year) %>%
summarise(Proportion=mean(vv_turnout_gvm_binary,na.omit=TRUE)) %>%
filter(!is.na(Proportion)) %>%
ggplot(aes(x=as.factor(year),y=Proportion))+
geom_bar(stat="identity")
tbl %>%
group_by(year) %>%
summarise(Proportion=mean(vv_turnout_gvm_binary,na.omit=TRUE)) %>%
filter(!is.na(Proportion)) %>%
ggplot(aes(x=as.factor(year),y=Proportion))+
geom_bar(stat="identity") +
labs(x=Year)
tbl %>%
group_by(year) %>%
summarise(Proportion=mean(vv_turnout_gvm_binary,na.omit=TRUE)) %>%
filter(!is.na(Proportion)) %>%
ggplot(aes(x=as.factor(year),y=Proportion))+
geom_bar(stat="identity") +
labs(x="Year")
tbl %>%
count(gender)
# Chunk 1: setup
knitr::opts_chunk$set(echo = TRUE)
library(readr)
library(tidyverse)
library(knitr)
library(scales)
library(writexl)
# Chunk 2
tbl<-read_rds("../Data/cumulative_2006_2017.Rds")
# Chunk 3
head(tbl)
# Chunk 4
names(tbl)
# Chunk 5
tbl %>%
select(year, case_id, pid3)
# Chunk 6
tbl %>%
select(year, case_id, pid3)
# Chunk 7
tbl %>%
group_by (year) %>%
count (vv_turnout_gvm)
tbl %>%
group_by (year) %>%
count (vv_turnout_gvm) %>%
as.data.frame
tbl %>%
group_by (year) %>%
count (vv_turnout_gvm)
tbl %>%
group_by (year) %>%
count (vv_turnout_gvm) %>%
as.data.frame
# Chunk 1: setup
knitr::opts_chunk$set(echo = TRUE)
library(readr)
library(tidyverse)
library(knitr)
library(scales)
library(writexl)
# Chunk 1: setup
knitr::opts_chunk$set(echo = TRUE)
library(readr)
library(tidyverse)
library(knitr)
tbl<-read_rds("../Data/cumulative_2006_2017.Rds")
head(tbl)
names(tbl)
tbl %>%
select(year, case_id, pid3)
knitr::opts_chunk$set(echo = TRUE)
library(readr)
library(tidyverse)
library(knitr)
library(haven)
library(haven)
knitr::opts_chunk$set(echo = TRUE)
library(readr)
library(tidyverse)
library(knitr)
library(haven)
tbl<-read_dta("../Data/CCES_Panel_Full3waves_VV_V4.dta")
knitr::opts_chunk$set(echo = TRUE)
library(readr)
library(tidyverse)
library(knitr)
library(haven)
tbl_panel<-read_dta("../Data/CCES_Panel_Full3waves_VV_V4.dta")
summary
summary(tbl_panel)
str(tbl_panel)
tbl_panel<-read_dta("../Data/CCES_Panel_Full3waves_VV_V4.dta") %>%
select(birthyr,gender)
tbl_panel<-read_dta("../Data/CCES_Panel_Full3waves_VV_V4.dta") %>%
select(pid3,pid7,gender)
tbl_panel<-read_dta("../Data/CCES_Panel_Full3waves_VV_V4.dta") %>%
select(gender)
tbl_panel %>% head %>% View
tbl_panel<-read_dta("../Data/CCES_Panel_Full3waves_VV_V4.dta") %>%
select(gender_10)
tbl_panel<-read_dta("../Data/CCES_Panel_Full3waves_VV_V4.dta") %>%
select(gender_10,birthyr_10)
head(tbl_panel)
tbl_panel<-read_dta("../Data/CCES_Panel_Full3waves_VV_V4.dta") %>%
select(gender_10,birthyr_10) %>%
mutate(gender=as_factor(gender_10),
age=2010-birthyr_10)
head(tbl_panel)
tbl_panel<-read_dta("../Data/CCES_Panel_Full3waves_VV_V4.dta") %>%
select(gender_10,birthyr_10) %>%
mutate(gender=as_factor(gender_10),
age=2010-birthyr_10)
tbl_panel<-read_dta("../Data/CCES_Panel_Full3waves_VV_V4.dta") %>%
select(gender_10,birthyr_10) %>%
mutate(gender=as_factor(gender_10),
age=2010-birthyr_10)
View(tbl_panel)
knitr::opts_chunk$set(echo = TRUE)
library(readr)
library(tidyverse)
library(knitr)
library(haven)
tbl_panel <- haven::read_dta("../Data/CCES_Panel_Full3waves_VV_V4.dta", encoding = "latin1")
tbl_panel %>%
count(CC10_330A)
head(tbl_panel)
head(tbl_panel)
tbl_panel <- haven::read_dta("../Data/CCES_Panel_Full3waves_VV_V4.dta", encoding = "latin1")
head(tbl_panel)
head(tbl_panel) %>% View
tbl_panel <- tbl_panel %>%
mutate(CC10_330A_fac = as_factor(CC10_330A))
# check successful mutate
tbl_panel %>%
count(CC10_330A, CC10_330A_fac)
CC10_330_vars <- tbl_panel %>%
select(CC10_330B, CC10_330C, CC10_330D, CC10_330E,
CC10_330F, CC10_330G, CC10_330H, CC10_330I, CC10_330J) %>%
colnames()
CC10_330_vars %>%
map(~ tbl_panel %>% count(!!sym(.x)))
tbl_panel <- tbl_panel %>%
mutate_at(vars(CC10_330B, CC10_330C, CC10_330D, CC10_330E,
CC10_330F, CC10_330G, CC10_330H, CC10_330I, CC10_330J),
funs(fac = as_factor(.)))
fac_vars <- CC10_330_vars %>%
paste0("_fac")
map2(CC10_330_vars, fac_vars, ~ tbl_panel %>% count(!!sym(.x), !!sym(.y)))
CC12_vars <- tbl_panel %>%
select(CC12_330A, CC12_330B, CC12_330C, CC12_330D, CC12_330E,
CC12_330F, CC12_330G, CC12_330H, CC12_332A, CC12_332B,
CC12_332C, CC12_332D, CC12_332E, CC12_332F) %>%
colnames()
CC12_vars %>%
map(~ tbl_panel %>% count(!!sym(.x)))
